<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Centro Médico Ñuñoa</title>
</head>
<script>

document.write('<h2>ESTADÍSTICA DIARIA CENTRO MÉDICO ÑUÑOA</h2>');
//Información Pacientes de Radiología

let rad = [
    {
        Hora: "11:00",
        Especialista: "IGNACIO SCHULZ",
        Paciente: "FRANCISCA ROJAS",
        Rut: "9878782-1",
        Prevision: "FONASA",  
    },
    {
        Hora: "11:30",
        Especialista: "FEDERICO SUBERCASEAUX",
        Paciente: "PAMELA ESTRADA",
        Rut: "15345241-3",
        Prevision: "ISAPRE",  
    },
    {
        Hora: "15:00",
        Especialista: "FERNANDO WURTHZ",
        Paciente: "ARMANDO LUNA",
        Rut: "16445345-9",
        Prevision: "ISAPRE",  
    },
    {
        Hora: "15:30",
        Especialista: "ANA MARÍA GODOY",
        Paciente: "MANUEL GODOY",
        Rut: "17666419-0",
        Prevision: "FONASA",  
    },
    {
        Hora: "16:00",
        Especialista: "PATRICIA SUAZO",
        Paciente: "RAMÓN ULLOA",
        Rut: "14989389-K",
        Prevision: "FONASA",  
    },

];

//Información pacientes de Traumatología
let tra = [
    {
        Hora: "8:00",
        Especialista: "MARÍA PAZ ALTUZARRA",
        Paciente: "PAULA SANCHEZ",
        Rut: "15554774-5",
        Prevision: "FONASA",  
    },
    {
        Hora: "10:00",
        Especialista: "RAÚL ARAYA",
        Paciente: "ANGÉLICA NAVAS",
        Rut: "15444147-9",
        Prevision: "ISAPRE",  
    },
    {
        Hora: "10:30",
        Especialista: "MARIA ARRIAGADA",
        Paciente: "ANA KLAPP",
        Rut: "17879423-9",
        Prevision: "ISAPRE",  
    },
    {
        Hora: "11:00",
        Especialista: "ALEJANDRO BADILLA",
        Paciente: "FELIPE MARDONES",
        Rut: "1547423-6",
        Prevision: "ISAPRE",  
    },
    {
        Hora: "11:30",
        Especialista: "CECILIA BUDNIK",
        Paciente: "DIEGO MARRE",
        Rut: "16554741-K",
        Prevision: "FONASA",  
    },
    {
        Hora: "12:00",
        Especialista: "ARTURO CAVAGNARO",
        Paciente: "CECILIA MÉNDEZ",
        Rut: "9747535-8",
        Prevision: "ISAPRE",  
    },
    {
        Hora: "12:30",
        Especialista: "ANDRÉS KANACRI",
        Paciente: "MARCIAL SUAZO",
        Rut: "11254785-5",
        Prevision: "ISAPRE",  
    },
]
//Información pacientes de Dental

let den = [
    {
        Hora: "8:30",
        Especialista: "ANDREA ZUÑIGA",
        Paciente: "MARCELA RETAMAL",
        Rut: "11123425-6",
        Prevision: "ISAPRE",  
    },
    {
        Hora: "11:00",
        Especialista: "MARÍA PÍA ZAÑARTU",
        Paciente: "ÁNGEL MUÑOZ",
        Rut: "9878789-2",
        Prevision: "ISAPRE",  
    },
    {
        Hora: "11:30",
        Especialista: "SCARLETT WITTING",
        Paciente: "MARIO KAST",
        Rut: "7998789-2",
        Prevision: "FONASA",  
    },
    {
        Hora: "13:00",
        Especialista: "FRANCISCO VON TEUBER",
        Paciente: "KARIN FERNÁNDEZ",
        Rut: "18887662-K",
        Prevision: "FONASA",  
    },
    {
        Hora: "13:30",
        Especialista: "EDUARDO VIÑUELA",
        Paciente: "HUGO SÁNCHEZ",
        Rut: "17665461-4",
        Prevision: "FONASA",  
    },
    {
        Hora: "14:00",
        Especialista: "RAQUEL VILLASECA",
        Paciente: "ANA SEPÚLVEDA",
        Rut: "14441281-0",
        Prevision: "ISAPRE",  
    },
];

//Variables último paciente según servicio.

let radLast = rad.length - 1;
let traLast = tra.length - 1;
let denLast = den.length - 1;

//Variables resumen primer y último paciente por servicio.

let easyRad = [ `<h5>RADIOLOGÍA</h5> Primera atención: ${rad[0].Paciente} - ${rad[0].Prevision} 
    | Última atención: ${rad[radLast].Paciente} - ${rad[radLast].Prevision}`];
let easyTra = [ `<h5>TRAUMATOLOGÍA</h5> Primera atención: ${tra[0].Paciente} - ${tra[0].Prevision} 
    | Última atención: ${tra[traLast].Paciente} - ${tra[traLast].Prevision}`];
let easyDen = [ `<h5>DENTAL</h5> Primera atención: ${den[0].Paciente} - ${den[0].Prevision} |
     Última atención: ${den[denLast].Paciente} - ${den[denLast].Prevision}`];   



//Ejercicio 1 ( Agregar las siguientes horas al arreglo de Traumatología:)

tra.push(
    {
        Hora: "09:00",
        Especialista: "RENÉ POBLETE",
        Paciente: "ANA GELLONA",
        Rut: "13123329-7",
        Prevision: "ISAPRE",  
    },
    {
        Hora: "09:30",
        Especialista: "MARIA SOLAR",
        Paciente: "RAMIRO ANDRADE",
        Rut: "12221451-K",
        Prevision: "FONASA",  
    },
    {
        Hora: "10:00",
        Especialista: "RAUL LOYOLA",
        Paciente: "CARMEN ISLA",
        Rut: "10112348-3",
        Prevision: "ISAPRE",  
    },
    {
        Hora: "10:30",
        Especialista: "ANTONIO LARENAS",
        Paciente: "PABLO LOAYZA",
        Rut: "13453234-1",
        Prevision: "ISAPRE",  
    },
    {
        Hora: "12:00",
        Especialista: "MATIAS ARAVENA",
        Paciente: "SUSANA POBLETE",
        Rut: "14345656-6",
        Prevision: "FONASA",  
    },
);

//Ejercicio 2 (Eliminar el primer y último elemento del arreglo de Radiología.)

rad.shift();
rad.pop();

document.write(
    `<h3>Citas del día:</h3>
    Radiología: ${rad.length}</br> 
    Traumatología: ${tra.length}</br>
    Dental: ${den.length}</br>`
)

document.write('<h3>Resumen del Servicio</h3>');

document.write(easyRad);

document.write(easyTra);

document.write(easyDen);

//Ejercicio 3 ( Imprimir en la página HTML, la lista de consultas Separando por un guión.)

document.write("<h4>CONSULTAS MÉDICAS DENTAL</h4>");

den.forEach(function(consulta){
    let consultaArray = Object.values(consulta);
    document.write(`<p> ${consultaArray.join(" - ")}</p>`);
});

//Ejercicio 4 (Imprimir un listado total de todos los pacientes que se atendieron en el centro médico.)

let pacientes = []

rad.forEach(consulta => {
    pacientes.push(consulta.Paciente);
});
tra.forEach(consulta => {
    pacientes.push(consulta.Paciente);
});
den.forEach(consulta => {
    pacientes.push(consulta.Paciente);
});

document.write(`<h4>PACIENTES DIARIOS TOTALES DEL CENTRO MÉDICO</h4>`);

pacientes.forEach(pacientes => {
    document.write(`<p>${pacientes}</p>`);
});

//Ejercicio 5 (Dental: aquellas que indican ser FONASA cambiarlas por ISAPRE y viceversa.)

const nuevaDen = den.map((consulta) => {
  const nuevaConsulta = {};
  nuevaConsulta.Hora = consulta.Hora;
  nuevaConsulta.Especialista = consulta.Especialista;
  nuevaConsulta.Paciente = consulta.Paciente;
  nuevaConsulta.Rut = consulta.Rut;
    if (consulta.Prevision === "FONASA") {
    nuevaConsulta.Prevision = "ISAPRE";
  } else {
    nuevaConsulta.Prevision = "FONASA";
  }

  return nuevaConsulta;
});

document.write("<h4>PACIENTES DENTAL - SISTEMA DE SALUD</h4>");
nuevaDen.forEach(nuevaConsulta => {
    document.write(
        `${nuevaConsulta.Prevision}; ${nuevaConsulta.Paciente}</br>`
    )
});

</script>
<body>
</body>
</html>